%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Package File ~ 'tau.sty'
% Version 1.0 (04/03/2024)
%
% Description:
% Tau is a package that includes essential packages 
% for making a document in LaTeX.
%
% Author: 
% Guillermo Jimenez (memo.notess1@gmail.com)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% tau.sty is compatible with 'tau-book.tex'.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------
% Package configuration
%----------------------------------------------------------

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tau}[2024/03/03]

%----------------------------------------------------------
% Math
%----------------------------------------------------------

\RequirePackage{amsmath}
\RequirePackage{amsfonts}
% \RequirePackage{amssymb}
\RequirePackage{mathtools}

%----------------------------------------------------------
% Url
%----------------------------------------------------------

\RequirePackage{xurl}
\RequirePackage[colorlinks=true, allcolors=taublue]{hyperref}
\RequirePackage{url}

%----------------------------------------------------------
% Misc packages
%----------------------------------------------------------

\RequirePackage{bookmark}
\RequirePackage{ragged2e}
\RequirePackage{lipsum}
\RequirePackage{chemfig}         % Chemical structures
\RequirePackage{circuitikz}      % Circuits schematics
\usepackage[switch]{lineno}
\usepackage{csquotes}
\usepackage{supertabular}
\usepackage{matlab-prettifier}
\usepackage{cleveref}
\RequirePackage{listings}

%----------------------------------------------------------
% Items
%----------------------------------------------------------

\usepackage{enumitem}
%\setlist{noitemsep}

%----------------------------------------------------------
% Tables
%----------------------------------------------------------

\usepackage{booktabs}
\usepackage{array} 

%----------------------------------------------------------
% Fonts
%----------------------------------------------------------

\RequirePackage{fontawesome5}    % For icons
% \RequirePackage{lettrine}
% \RequirePackage{pifont}
% \usepackage[sc]{mathpazo}	% Use the Palatino font
% \usepackage[oldstyle,oldstylemath]{kpfonts}	% Stylish old font
% \RequirePackage{times}
% \RequirePackage{XCharter}
% \RequirePackage{mathpazo} 
% \RequirePackage{lmodern}

%----------------------------------------------------------
% Color
%----------------------------------------------------------

\RequirePackage{xcolor}

%----------------------------------------------------------
% Custom colors
%----------------------------------------------------------

\definecolor{taublue}{RGB}{53,115,147}
\definecolor{taubluetext}{RGB}{0,101,165}
\definecolor{taublueback}{RGB}{205,217,235}

%----------------------------------------------------------
% Figures
%----------------------------------------------------------

\usepackage{graphicx}
\RequirePackage{here}

%----------------------------------------------------------
% Tables
%----------------------------------------------------------

\usepackage{adjustbox}
\RequirePackage{colortbl}
\RequirePackage{tcolorbox}

%----------------------------------------------------------
% Matlab code
%----------------------------------------------------------

\definecolor{mygreen}{RGB}{28,172,0}
\definecolor{mylilas}{RGB}{170,55,241}

\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,% without this there will be a symbol in the places where there is a space
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
}

%----------------------------------------------------------
% Arduino code
%----------------------------------------------------------

\RequirePackage[arduino,processing]{maker}
\captionsetup[lstlisting]{font=footnotesize, labelfont=bf, textfont=it, labelsep=period}

\renewcommand\lstlistingname{Code}
\renewcommand\lstlistlistingname{Code}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codeorange}{rgb}{1,0.49,0}
\definecolor{backcolour}{rgb}{0.95,0.95,0.96}
\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegray},
	keywordstyle=\color{blue},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{mygreen},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2,
	xleftmargin=10pt,
        aboveskip=10pt,
}
\lstset{style=mystyle}

%----------------------------------------------------------
% Frames with tikz
%----------------------------------------------------------

\RequirePackage[framemethod=tikz]{mdframed}

%----------------------------------------------------------

\mdfdefinestyle{warning}{
	topline=false, bottomline=false,
	leftline=false, rightline=false,
	nobreak,
	singleextra={%
		\draw(P-|O)++(-0.5em,0)node(tmp1){};
		\draw(P-|O)++(0.5em,0)node(tmp2){};
		\fill[black,rotate around={45:(P-|O)}](tmp1)rectangle(tmp2);
		\node at(P-|O){\color{white}\scriptsize\bf !};
		\draw[very thick](P-|O)++(0,-1em)--(O);%--(O-|P);
	}
}

\newenvironment{warn}[1][Warn:]{ % Set the default warning to "Warning:"
	\medskip
	\begin{mdframed}[style=warning]
		\noindent{\textbf{#1}}
	}{
	\end{mdframed}
}

%----------------------------------------------------------

\mdfdefinestyle{information}{
	topline=false, bottomline=false,
	leftline=false, rightline=false,
	nobreak,
	singleextra={%
		\fill[black](P-|O)circle[radius=0.4em];
		\node at(P-|O){\color{white}\scriptsize\bf i};
		\draw[very thick](P-|O)++(0,-0.8em)--(O);
	}
}

\newenvironment{info2}[1][Info:]{
	\medskip
	\begin{mdframed}[style=information]
		\noindent{\textbf{#1}}
	}{
	\end{mdframed}
}

%----------------------------------------------------------

\mdfdefinestyle{link}{
	topline=false, bottomline=false,
	leftline=false, rightline=false,
	nobreak,
	singleextra={%
		\fill[black](P-|O)circle[radius=0.4em];
		\node at(P-|O){\color{white}\tiny\faLink};
		\draw[very thick](P-|O)++(0,-0.8em)--(O);
	}
}

\newenvironment{link}[1][Link:]{
	\medskip
	\begin{mdframed}[style=link]
		\noindent{\textbf{#1}}
	}{
	\end{mdframed}
}

%----------------------------------------------------------

\newcommand{\infolanguage}{
    \iflanguage{spanish}{
        {\bfseries\noindent Informaci\'on}%
    }{%
        {\bfseries\noindent Information}%
    }%
}

\newmdenv[
	backgroundcolor=taublueback,
	linecolor=taubluetext,
	linewidth=0.7pt,
	frametitle=\vskip0pt\bfseries\infolanguage,
	frametitlerule=false,
	frametitlefont=\color{taubluetext}\bfseries,
	frametitlealignment=\raggedright,
	innertopmargin=3pt,
	innerbottommargin=6pt,
	innerleftmargin=6pt,
	innerrightmargin=6pt,
	font=\itshape,
	fontcolor=taubluetext,
	frametitleaboveskip=3pt.
]{info}

%----------------------------------------------------------

\newcommand{\notelanguage}{
    \iflanguage{spanish}{
        {\bfseries\noindent Nota}%
    }{%
        {\bfseries\noindent Note}%
    }%
}

\newmdenv[
	backgroundcolor=taublueback,
	linecolor=taubluetext,
	linewidth=0.8pt,
	frametitle=\vskip0pt\bfseries\notelanguage,
	frametitlerule=false,
	frametitlefont=\color{taubluetext}\bfseries,
	frametitlealignment=\raggedright,
	innertopmargin=3pt,
	innerbottommargin=6pt,
	innerleftmargin=6pt,
	innerrightmargin=6pt,
	font=\itshape,
	fontcolor=taubluetext,
	frametitleaboveskip=3pt.
]{note}

%----------------------------------------------------------

\endinput